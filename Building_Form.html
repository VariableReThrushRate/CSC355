<!DOCTYPE html>
<html>
<head>
  <link type="text/css" rel="stylesheet" href="style.css"/>
  <script type = "text/javascript" src="./valid.js"></script>
  <img src="https://www.commonapp.org/static/26302d7c6d528f93fff0c99b0974c850/saint-martins-university_476.jpg" alt="SMU LOGO"  width="auto"; height= "100"; position= "relative"; margin = "20";>
  <style>
    h1 {text-align: center;}

    form {
      width: 50%;
      margin: auto;
    }

    label {
      display: block;
      margin-top: 10px;
    }

    input {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      margin-bottom: 10px;
      box-sizing: border-box;
    }

    input[type="submit"] {
      background-color: #BA0C2F;
      color: white;
      cursor: pointer;
    }

    input[type="submit"]:hover {
      background-color: #BA0C2F;
    }
  </style>

</head>
<body>

  <h1>Building Information Form</h1>
  
    
  <form id = "buildsub" onsubmit="ugh(this); return false;">
    <label class="formleft" for="buildingName">Building Name:</label>
    <input type="text" id="buildName" name="buildName" required>

    <label class="formleft" for="buildingAddress">Building Address:</label>
    <input type="text" id="buildAdd" name="buildAddress" required>

    <label class="formleft" for="buildingLatitude">Building Latitude:</label>
    <input type="text" id="buildLat" name="buildLatitude" required>

    <label class="formleft" for="buildingLongitude">Building Longitude:</label>
    <input type="text" id="buildLong" name="buildLongitude" required>

    <label class="formleft" for="buildingLongitude">Building Purpose:</label>
    <input type="textarea" id="buildPurp" name="buildPurpose" required>


    <input type="submit" name="submit" value="Submit">
    <input type="reset" name="reset" value="Reset" />
  </form>
  <div id="response"></div>

    <script>
      function ugh(e){
        console.log("Clicked!");
        bruh = formacc(e); // Assuming formacc is a function defined elsewhere
        if (bruh == null){
          console.log("Was Null!");
          document.getElementById('response').innerHTML = "Form Validation FAILED!";
        }
        else {
          //var formData = new FormData(bruh);
          console.log("Defining form data!");
          var formData = new FormData(document.getElementById("buildsub"));
          console.log("Making request!");
          var xhr = new XMLHttpRequest();
          console.log("Request opening!");
          xhr.open("POST", "insert.php", true);
          console.log("Request opened!");
          xhr.onreadystatechange = function () {
          if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
            console.log(xhr.responseText);            
        }
        };
        xhr.send(formData);
        
        }
      }
    </script>
</body>
</html>
